import java.util.LinkedList;
import java.util.List;

/*Always remember that the shared data has to be under synchronized block */
public class Processor {
	private final int LIMIT = 10;
	private LinkedList<Integer> list = new LinkedList<Integer>(); 
	private Object lock = new Object();
	public void producer() throws InterruptedException{
		int valueAdded= 0;
		while(true){
			synchronized(lock){
				while(list.size()==LIMIT){
					lock.wait();
				}
				list.add(valueAdded++);
			}
		}
		
	}
	public void consumer() throws InterruptedException{
		while(true){
			/*Since i want FIFO I would have to removefrom first*/
			System.out.println("List size is " +list.size());
			synchronized(this){
				int valueRemoved = list.removeFirst(); //removeFirst is only in last Linked list and not in the list inteface.	
				System.out.println("Value is: " +valueRemoved);
				lock.notify();
			}	
		}
	}
}
